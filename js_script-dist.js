class Api{constructor(){this.url="/goods.json"}fetch(t,e){let s;window.XMLHttpRequest?s=new XMLHttpRequest:window.ActiveXObject&&(s=new ActiveXObject("Microsoft.XMLHTTP")),s.onreadystatechange=function(){4===s.readyState&&(200===s.status?e(JSON.parse(s.responseText)):s.status>400&&t())},s.open("GET",this.url,!0),s.send()}fetchPromise(){return new Promise(((t,e)=>{this.fetch(e,t)}))}}class GoodsItem{constructor(t,e,s,o,i){this.title=t,this.exchange=e,this.price=s,this.img_src=o,this.description=i}getHtml(){return`<figure class="fetured_block">\n    <div class="fetured_blok_hover">\n        <button id = "${this.title}" class="hover_button"><img class="cart_small" src="img/cart_small.png" alt="">Add to Cart</button>\n    </div>\n    <img src="${this.img_src}" alt="img" class="fetured_img">\n    <p class="fetured_text-1">${this.title}</p>\n    <p class="fetured_text-2">${this.description}</p>\n    <p class="fetured_text-3">${this.exchange} ${this.price}</p>\n  </figure>`}}class GoodsList{constructor(){this.api=new Api,this.$goodsList=document.querySelector(".fetured_block_line"),this.goods=[];this.api.fetchPromise().then((t=>{this.onFetchSucces(t)})).then((()=>{const t=[];for(let e=0;e<this.goods.length;e++)document.querySelector("#"+this.goods[e].title).addEventListener("click",(()=>{t.push(this.goods[e]),console.log(t)}))})).catch((t=>{this.onFethError(t)}))}onFetchSucces(t){this.goods=t.map((({title:t,exchange:e,price:s,img_src:o,description:i})=>new GoodsItem(t,e,s,o,i))),this.getSumm(),this.render()}onFethError(t){this.$goodsList.insertAdjacentHTML("beforeend",`<h3>${t}</h3>`)}render(){this.$goodsList.textContent="",this.goods.forEach((t=>{this.$goodsList.insertAdjacentHTML("beforeend",t.getHtml())}))}getSumm(t){let e=0;this.goods.forEach((t=>e+=t.price)),console.log(e)}drawtest(){console.log(this.goods)}}class Cart{constructor(){this.cartGoodsList=[]}pushToCart(){document.querySelector("#"+goodsList.goods.title)}deleteAll(){}getSummAllCart(){}payRequest(){}renderCart(){}}class CartItem{constructor(){}delItem(){}rewriteCount(){}}const goodsList=new GoodsList;